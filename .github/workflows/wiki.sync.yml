- name: Kontrola zmÄ›n ve wiki
        id: check
        run: |
          set -e
          # Pro workflow_dispatch vÅ¾dy pokraÄuj
          if [ "${{ github.event_name }}" = "workflow_dispatch" ]; then
            echo "changed=true" >> "$GITHUB_OUTPUT"
            echo "ğŸ”” ManuÃ¡lnÃ­ spuÅ¡tÄ›nÃ­ - pokraÄuji se synchronizacÃ­."
            exit 0
          fi
          
          # Pro schedule event kontroluj, jestli byly zmÄ›ny od poslednÃ­ ÃºspÄ›Å¡nÃ© synchronizace
          if [ "${{ github.event_name }}" = "schedule" ]; then
            # Zkus najÃ­t poslednÃ­ ÃºspÄ›Å¡nÃ½ sync commit
            LAST_SYNC=$(git log --grep="Synchronizace wiki:" --format="%H" -1 2>/dev/null || echo "")
            
            if [ -n "$LAST_SYNC" ]; then
              CHANGED=$(git diff --name-only "$LAST_SYNC" HEAD -- content/wiki public/wiki | wc -l)
              if [ "$CHANGED" -gt 0 ]; then
                echo "changed=true" >> "$GITHUB_OUTPUT"
                echo "ğŸ”” Schedule: DetekovÃ¡no $CHANGED zmÄ›n od poslednÃ­ho syncu."
              else
                echo "changed=false" >> "$GITHUB_OUTPUT"
                echo "âœ… Schedule: Å½Ã¡dnÃ© novÃ© zmÄ›ny od poslednÃ­ho syncu."
                exit 0
              fi
            else
              echo "changed=true" >> "$GITHUB_OUTPUT"
              echo "ğŸ”” Schedule: PrvnÃ­ sync, pokraÄuji."
            fi
            exit 0
          fi
